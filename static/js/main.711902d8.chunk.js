(this["webpackJsonpreact-newchess"]=this["webpackJsonpreact-newchess"]||[]).push([[0],{29:function(e,t,s){},52:function(e,t,s){},79:function(e,t,s){"use strict";s.r(t);var i=s(3),n=s.n(i),a=s(8),o=s.n(a),r=(s(29),s(9)),l=s.n(r),c=s(18),g=s(19),p=s(20),h=s(24),u=s(23),f=s(21),m=s.n(f),d=s(22),v=s.n(d),k=(s(52),s(0)),P=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(g.a)(this,s),(i=t.call(this,e)).chessgame=new v.a,i.state={lightSquareColor:"#b58763",darkSquareColor:"#f0dab5",flip:!1,lastMessage:"",squareSize:45,gameType:"chess",currentPosition:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",allowMoves:!0,level:1,response:""},i.gamePresets={chess:{fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",files:8,gameHistory:!0,ranks:8,pieceDefinitions:{},startMove:0},draughts:{fen:"1g1g1g1g1g/g1g1g1g1g1/1g1g1g1g1g/g1g1g1g1g1/10/10/1G1G1G1G1G/G1G1G1G1G1/1G1G1G1G1G/G1G1G1G1G1 w - - 0 1",files:10,flip:!1,gameHistory:!1,ranks:10,pieceDefinitions:{G:i._createPieceDefinition("https://upload.wikimedia.org/wikipedia/commons/9/90/Draughts_mlt45.svg"),g:i._createPieceDefinition("https://upload.wikimedia.org/wikipedia/commons/0/0c/Draughts_mdt45.svg")},pgn:""},courier:{fen:"rnbcmk1scbnr/1ppppp1pppp1/6q5/p5p4p/P5P4P/6Q5/1PPPPP1PPPP1/RNBCMK1SCBNR",files:12,flip:!1,gameHistory:!1,ranks:8,pieceDefinitions:{C:i._createPieceDefinition("https://upload.wikimedia.org/wikipedia/commons/7/7c/Chess_Blt45.svg"),c:i._createPieceDefinition("https://upload.wikimedia.org/wikipedia/commons/5/5a/Chess_Bdt45.svg"),M:i._createPieceDefinition("https://upload.wikimedia.org/wikipedia/commons/1/17/Chess_flt45.svg"),m:i._createPieceDefinition("https://upload.wikimedia.org/wikipedia/commons/2/2c/Chess_fdt45.svg"),S:i._createPieceDefinition("https://upload.wikimedia.org/wikipedia/commons/c/ce/Chess_tlt45.svg"),s:i._createPieceDefinition("https://upload.wikimedia.org/wikipedia/commons/e/e2/Chess_tdt45.svg")},pgn:""}},i.state=Object.assign({},i.state,i.gamePresets[i.state.gameType]),i}return Object(p.a)(s,[{key:"componentWillReceiveProps",value:function(e){}},{key:"componentWillMount",value:function(){}},{key:"componentWillUpdate",value:function(){}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"loadData",value:function(e,t){return alert(JSON.stringify(this.chessgame.pgn())),alert(JSON.stringify(this.chessgame.pgn().length)),alert("Move from pgn:"+this.chessgame.pgn().substring(this.chessgame.pgn().length-8,1)),this.chessgame.move(e),alert("Steart::"+t),this.setState({files:8,flip:!1,gameHistory:!0,ranks:8,fen:"",pgn:["","",5==this.chessgame.pgn().length?this.chessgame.pgn()+" -":this.chessgame.pgn()].join("\n")}),!0}},{key:"flipMove",value:function(e){return console.log(e.slice(-1)),1===parseInt(e.slice(-1))?e=e.slice(0,-1)+"8":2===parseInt(e.slice(-1))?e=e.slice(0,-1)+"7":3===parseInt(e.slice(-1))?e=e.slice(0,-1)+"6":4===parseInt(e.slice(-1))?e=e.slice(0,-1)+"5":5===parseInt(e.slice(-1))?e=e.slice(0,-1)+"4":6===parseInt(e.slice(-1))?e=e.slice(0,-1)+"3":7===parseInt(e.slice(-1))?e=e.slice(0,-1)+"2":8===parseInt(e.slice(-1))&&(e=e.slice(0,-1)+"1"),console.log(e),e}},{key:"handleLoginClick",value:function(){this.setState({isLoggedIn:!0})}},{key:"handleLogoutClick",value:function(){this.setState({isLoggedIn:!1})}},{key:"_createPieceDefinition",value:function(e){return function(t){return Object(k.jsx)("svg",{children:Object(k.jsx)("image",{transform:t,href:e})})}}},{key:"_onFenChanged",value:function(e){this.setState({fen:e.target.value})}},{key:"_onFlipChanged",value:function(e){this.setState({flip:e.target.checked})}},{key:"_onLightSquareColorChanged",value:function(e){this.setState({lightSquareColor:e.target.value})}},{key:"_onDarkSquareColorChanged",value:function(e){this.setState({darkSquareColor:e.target.value})}},{key:"_onMovePiece",value:function(e,t,s){var i=this,n="P"==e?s:e.toUpperCase()+s;alert(JSON.stringify(n)),this.chessgame.move(n),this.setState({files:8,flip:!1,gameHistory:!0,ranks:8,fen:this.chessgame.fen(),startMove:this.chessgame.move()?this.chessgame.move():1});var a=function(){var e=Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("code","1534abc54321z"),t.append("fen",i.state.fen),t.append("timecalc",1==i.state.level?"50":2==i.state.level?"150":3==i.state.level?"200":4==i.state.level?"300":(i.state.level,"400")),t.append("gamelevel",1==i.state.level?"3":2==i.state.level?"9":3==i.state.level?"11":4==i.state.level?"17":(i.state.level,"20")),e.next=7,fetch("https://diskoteka.ro/apitickets/chess/bot.php",{method:"POST",body:t}).then((function(e){return e.text()})).then((function(e){console.log(e),i.setState({response:e}),console.log("This is the response: "+i.state.response)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a().then((function(){alert(JSON.stringify(i.state.response)),console.log("This is the response after asyncron: "+i.state.response),console.log(i.state.response.slice(-2)),console.log(i.state.response.split("-")),console.log(i.state.fen),console.log(i.chessgame.fen()),console.log(i.flipMove(i.state.response.split("-")[0])),i.chessgame.move({from:i.flipMove(i.state.response.split("-")[0]),to:i.flipMove(i.state.response.split("-")[1])}),console.log(i.chessgame.fen()),i.setState({fen:i.chessgame.fen()})})),!0}},{key:"_onFilesChanged",value:function(e){this.setState({files:Number(e.target.value)})}},{key:"_onRanksChanged",value:function(e){this.setState({ranks:Number(e.target.value)})}},{key:"_onGameTypeChange",value:function(e){this.setState(Object.assign(this.gamePresets[e.target.value],{gameType:e.target.value}))}},{key:"_onPgnChanged",value:function(e){this.setState({pgn:e.target.value}),this.game.load_pgn(e.target.value)}},{key:"render",value:function(){return Object(k.jsx)("div",{className:"wrapper",children:Object(k.jsx)("div",{className:"container d-flex h-100",children:Object(k.jsxs)("div",{className:"card col-6 mx-auto align-middle",children:[Object(k.jsx)("h1",{style:{marginLeft:"40px"},children:"Chess"}),Object(k.jsx)(m.a,{darkSquareColor:this.state.darkSquareColor,fen:this.state.fen,gameHistory:this.state.gameHistory,startPosition:this.state.currentPosition,files:this.state.files,flip:this.state.flip,lightSquareColor:this.state.lightSquareColor,onMovePiece:this._onMovePiece.bind(this),pgn:this.state.pgn,pieceDefinitions:this.gamePresets[this.state.gameType].pieceDefinitions,ranks:this.state.ranks,squareSize:this.state.squareSize,startMove:this.state.startMove}),Object(k.jsx)("p",{className:"lastMessage",children:Object(k.jsx)("strong",{children:this.state.lastMessage})})]})})})}}]),s}(i.Component),y=P,S=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,83)).then((function(t){var s=t.getCLS,i=t.getFID,n=t.getFCP,a=t.getLCP,o=t.getTTFB;s(e),i(e),n(e),a(e),o(e)}))};s(54),s(55),s(56);o.a.render(Object(k.jsx)(n.a.StrictMode,{children:Object(k.jsx)(y,{})}),document.getElementById("root")),S()}},[[79,1,2]]]);
//# sourceMappingURL=main.711902d8.chunk.js.map