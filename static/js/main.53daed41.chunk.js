(this["webpackJsonpreact-newchess"]=this["webpackJsonpreact-newchess"]||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var s=a(7),c=a.n(s),n=a(30),i=a.n(n),l=(a(53),a(4)),o=a(5),r=a(8),d=a(9),u=(a(54),a(47)),m=a(10),h=a(6),b=function(){return Object(h.jsx)("div",{className:"mx-auto",children:Object(h.jsx)("h2",{style:{color:"white",top:"80px"},children:"This is Route not Found Page"})})},g=a(11),j=a(14),p=a(23),f=a(44),v=Object(f.a)({apiKey:"AIzaSyCu16vARVD7XDrpJXf27ZsR-989KviXszE",authDomain:"flutterchess-3cef8.firebaseapp.com",databaseURL:"https://flutterchess-3cef8-default-rtdb.firebaseio.com",projectId:"flutterchess-3cef8",storageBucket:"flutterchess-3cef8.appspot.com",messagingSenderId:"131571873400",appId:"1:131571873400:web:3c68cfa82f287a6f011f8d"}),O=(Object(j.b)(v),a(18)),x=a.n(O),k=a(32),N=a.n(k),y=function(){var e=Object(j.b)(),t=Object(p.b)(),a=Object(s.useRef)(null),c=Object(s.useRef)(null),n=Object(s.useState)(0),i=Object(g.a)(n,2),l=i[0],o=i[1],r=Object(s.useState)(""),d=Object(g.a)(r,2),u=d[0],m=d[1],b=Object(s.useState)(""),f=Object(g.a)(b,2),v=f[0],O=f[1],k=Object(s.useState)(""),y=Object(g.a)(k,2),P=(y[0],y[1]),w={borderRadius:"25px",backgroundColor:"lightblue"};return Object(s.useEffect)((function(){var t=Object(j.e)(e,"/logs");Object(j.c)(t,(function(e){var t=[];e.forEach((function(e){var a=e.val();t.push({id:a.id,status:a.status,message:a.message,agent:a.agent,ip:a.ip,location:a.location,user_id:a.user_id,time:a.time}),o(t.length),fetch("http://ip-api.com/json").then((function(e){return e.json()})).then((function(e){setTimeout((function(){m(e.query),O(e.country+"#"+e.city)}),300)}))}))})),x()(".container-fluid").css("position","fixed")})),Object(h.jsxs)("div",{className:"mx-auto col-6",style:{backgroundColor:"#282c34",color:"white"},children:[Object(h.jsx)("h2",{className:"mx-auto col-9",children:"This is Login Page"}),Object(h.jsxs)("div",{className:"card was-validated col-9 col-sm-9 col-md-9 col-lg-9 col-xl-9 mx-auto",style:w,children:[Object(h.jsx)("h1",{className:"h3 mb-3 font-weight-normal",style:{color:"blue"},children:"Please sign in"}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"inputEmail",className:"sr-only",children:"Email address"}),Object(h.jsx)("input",{ref:a,type:"email",id:"inputEmail",className:"form-control",placeholder:"Email address",required:!0,autoFocus:!0}),Object(h.jsx)("div",{className:"valid-feedback"}),Object(h.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"inputPassword",className:"sr-only",children:"Password"}),Object(h.jsx)("input",{ref:c,type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:!0}),Object(h.jsx)("div",{className:"valid-feedback"}),Object(h.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("div",{className:"checkbox mb-3",children:Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"checkbox",value:"remember-me",style:w})," Remember me"]})})}),Object(h.jsx)("button",{className:"btn btn-primary",type:"submit",style:{borderRadius:"15px",margin:"0 0 15px 0"},onClick:function(){try{Object(p.c)(t,a.current.value,c.current.value).then((function(){!function(t){localStorage.setItem("authlogin","true"),localStorage.setItem("user_id",t),window.location.href="/dashboard";var a=N()().format("DD/MM/YYYY HH:mm:ss"),s=Object(j.d)(Object(j.a)(Object(j.e)(e),"logs")).key;Object(j.f)(Object(j.e)(e,"logs/"+s),{id:l+1,status:1,message:"User Login",agent:navigator.userAgent,ip:u,location:v,user_id:t,time:a})}(a.current.value),window.location.reload(!1)})).catch((function(e){switch(P("Invalid user or password"),setTimeout((function(){P(""),a.current.value="",c.current.value=""}),2e3),e.code){case"auth/user-not-found":case"auth/wrong-password":alert("Incorect User or Password !")}}))}catch(s){alert("Error : ",s)}},children:"Login"})]})]})},P=function(){var e=Object(j.b)(),t=Object(p.b)(),a=Object(s.useRef)(null),c=Object(s.useRef)(null),n=Object(s.useRef)(null),i=Object(s.useRef)(null),l=Object(s.useState)([]),o=Object(g.a)(l,2),r=(o[0],o[1]),d=Object(s.useState)(0),u=Object(g.a)(d,2),m=u[0],b=u[1];return Object(s.useEffect)((function(){var t=Object(j.e)(e,"/users");Object(j.c)(t,(function(e){var t=[];e.forEach((function(e){var a=e.val();t.push({id:a.id,email:a.email,name:a.name,nickname:a.nickname,password:a.password,phone:a.phone,role:a.role,status:a.status,terms:a.terms,time:a.time}),r(t),b(t.length)}))})),x()(".container-fluid").css("position","fixed")})),Object(h.jsxs)("div",{className:"mx-auto col-6",style:{backgroundColor:"#282c34",color:"white"},children:[Object(h.jsx)("h2",{className:"mx-auto col-9",children:"This is Register Page"}),Object(h.jsxs)("div",{className:"card was-validated col-9 col-sm-9 col-md-9 col-lg-9 col-xl-9 mx-auto",style:{borderRadius:"25px",backgroundColor:"lightblue"},children:[Object(h.jsx)("h1",{className:"h3 mb-3 font-weight-normal",style:{color:"blue"},children:"Please sign up"}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"name",className:"sr-only",children:"User Name"}),Object(h.jsx)("input",{ref:a,type:"text",id:"name",className:"form-control",placeholder:"User Name",required:!0,autofocus:!0}),Object(h.jsx)("div",{className:"valid-feedback"}),Object(h.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"nickname",className:"sr-only",children:"Nick Name"}),Object(h.jsx)("input",{ref:c,type:"text",id:"nickname",className:"form-control",placeholder:"Nick Name",required:!0,autofocus:!0}),Object(h.jsx)("div",{className:"valid-feedback"}),Object(h.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"inputEmail",className:"sr-only",children:"Email address"}),Object(h.jsx)("input",{ref:n,type:"email",id:"inputEmail",className:"form-control",placeholder:"Email address",required:!0,autofocus:!0}),Object(h.jsx)("div",{className:"valid-feedback"}),Object(h.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"inputPassword",className:"sr-only",children:"Password"}),Object(h.jsx)("input",{ref:i,type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:!0}),Object(h.jsx)("div",{className:"valid-feedback"}),Object(h.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"inputConfirmPassword",className:"sr-only",children:"Confirm Password"}),Object(h.jsx)("input",{type:"password",id:"inputConfirmPassword",className:"form-control",placeholder:"Confirm Password",required:!0}),Object(h.jsx)("div",{className:"valid-feedback"}),Object(h.jsx)("div",{className:"invalid-feedback",children:"Please fill out this field."})]}),Object(h.jsx)("button",{className:"btn btn-primary",type:"submit",style:{borderRadius:"15px",margin:"0 0 15px 0"},onClick:function(){try{Object(p.c)(t,n.current.value,i.current.value).then((function(){alert("Email already in use !")})).catch((function(){Object(p.a)(t,n.current.value,i.current.value).then((function(){!function(){var t=N()().format("DD/MM/YYYY HH:mm:ss"),s=a.current.value,l=n.current.value,o=c.current.value,r="0777888999",d="demo",u=Object(j.d)(Object(j.a)(Object(j.e)(e),"users")).key;Object(j.f)(Object(j.e)(e,"users/"+u),{id:m+1,name:s,email:l,nickname:o,phone:r,time:t,role:d,status:"active",terms:0,password:i.current.value}),window.location.href="/reactchess/"}()}))}))}catch(s){alert("Error : ",s)}},children:"Register"})]})]})},w=function(){var e={backgroundColor:null===localStorage.getItem("backgroundColor")?"#282c34":localStorage.getItem("backgroundColor"),color:"white"};return Object(s.useEffect)((function(){x()(".container-fluid").css("position","fixed"),x()(".container").css("background-color",localStorage.getItem("backgroundColor")?localStorage.getItem("backgroundColor"):"#282c34")})),Object(h.jsxs)("div",{className:"mx-auto",style:e,children:[Object(h.jsx)("h2",{children:"This is About Page"}),Object(h.jsxs)("p",{children:[Object(h.jsxs)("strong",{children:[Object(h.jsx)("u",{children:"Contact at:"})," "]}),Object(h.jsx)("a",{href:"mailto:claudiu.vasile@gmail.com?Subject=Hello%20React%20Material",children:"Mail to: claudiu.vasile@gmail.com"})]})]})},S=a(0),C=a.n(S),I=a(3),_=a(45),D=a.n(_),R=a(46),M=a.n(R),q=function(e){Object(r.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).chessgame=new M.a,s.state={lightSquareColor:"#b58763",darkSquareColor:"#f0dab5",flip:!1,lastMessage:"",squareSize:45,gameType:"chess",currentPosition:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",allowMoves:!0,level:1,response:""},s.gamePresets={chess:{fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",files:8,gameHistory:!1,ranks:8,pieceDefinitions:{},startMove:0},draughts:{fen:"1g1g1g1g1g/g1g1g1g1g1/1g1g1g1g1g/g1g1g1g1g1/10/10/1G1G1G1G1G/G1G1G1G1G1/1G1G1G1G1G/G1G1G1G1G1 w - - 0 1",files:10,flip:!1,gameHistory:!1,ranks:10,pieceDefinitions:{G:s._createPieceDefinition("https://upload.wikimedia.org/wikipedia/commons/9/90/Draughts_mlt45.svg"),g:s._createPieceDefinition("https://upload.wikimedia.org/wikipedia/commons/0/0c/Draughts_mdt45.svg")},pgn:""},courier:{fen:"rnbcmk1scbnr/1ppppp1pppp1/6q5/p5p4p/P5P4P/6Q5/1PPPPP1PPPP1/RNBCMK1SCBNR",files:12,flip:!1,gameHistory:!1,ranks:8,pieceDefinitions:{C:s._createPieceDefinition("https://upload.wikimedia.org/wikipedia/commons/7/7c/Chess_Blt45.svg"),c:s._createPieceDefinition("https://upload.wikimedia.org/wikipedia/commons/5/5a/Chess_Bdt45.svg"),M:s._createPieceDefinition("https://upload.wikimedia.org/wikipedia/commons/1/17/Chess_flt45.svg"),m:s._createPieceDefinition("https://upload.wikimedia.org/wikipedia/commons/2/2c/Chess_fdt45.svg"),S:s._createPieceDefinition("https://upload.wikimedia.org/wikipedia/commons/c/ce/Chess_tlt45.svg"),s:s._createPieceDefinition("https://upload.wikimedia.org/wikipedia/commons/e/e2/Chess_tdt45.svg")},pgn:""}},s.state=Object.assign({},s.state,s.gamePresets[s.state.gameType]),s}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e){}},{key:"componentWillMount",value:function(){}},{key:"componentWillUpdate",value:function(){}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"loadData",value:function(e,t){return alert(JSON.stringify(this.chessgame.pgn())),alert(JSON.stringify(this.chessgame.pgn().length)),alert("Move from pgn:"+this.chessgame.pgn().substring(this.chessgame.pgn().length-8,1)),this.chessgame.move(e),alert("Steart::"+t),this.setState({files:8,flip:!1,gameHistory:!1,ranks:8,fen:"",pgn:["","",5==this.chessgame.pgn().length?this.chessgame.pgn()+" -":this.chessgame.pgn()].join("\n")}),!0}},{key:"flipMove",value:function(e){return console.log(e.slice(-1)),1===parseInt(e.slice(-1))?e=e.slice(0,-1)+"8":2===parseInt(e.slice(-1))?e=e.slice(0,-1)+"7":3===parseInt(e.slice(-1))?e=e.slice(0,-1)+"6":4===parseInt(e.slice(-1))?e=e.slice(0,-1)+"5":5===parseInt(e.slice(-1))?e=e.slice(0,-1)+"4":6===parseInt(e.slice(-1))?e=e.slice(0,-1)+"3":7===parseInt(e.slice(-1))?e=e.slice(0,-1)+"2":8===parseInt(e.slice(-1))&&(e=e.slice(0,-1)+"1"),console.log(e),e}},{key:"handleLoginClick",value:function(){this.setState({isLoggedIn:!0})}},{key:"handleLogoutClick",value:function(){this.setState({isLoggedIn:!1})}},{key:"_createPieceDefinition",value:function(e){return function(t){return Object(h.jsx)("svg",{children:Object(h.jsx)("image",{transform:t,href:e})})}}},{key:"_onFenChanged",value:function(e){this.setState({fen:e.target.value})}},{key:"_onFlipChanged",value:function(e){this.setState({flip:e.target.checked})}},{key:"_onLightSquareColorChanged",value:function(e){this.setState({lightSquareColor:e.target.value})}},{key:"_onDarkSquareColorChanged",value:function(e){this.setState({darkSquareColor:e.target.value})}},{key:"_onMovePiece",value:function(e,t,a){var s=this,c="P"==e?a:e.toUpperCase()+a;alert(JSON.stringify(c)),this.chessgame.move(c),this.setState({files:8,flip:!1,gameHistory:!0,ranks:8,fen:this.chessgame.fen(),startMove:this.chessgame.move()?this.chessgame.move():1});var n=function(){var e=Object(I.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("code","1534abc54321z"),t.append("fen",s.state.fen),t.append("timecalc",1==s.state.level?"50":2==s.state.level?"150":3==s.state.level?"200":4==s.state.level?"300":(s.state.level,"400")),t.append("gamelevel",1==s.state.level?"3":2==s.state.level?"9":3==s.state.level?"11":4==s.state.level?"17":(s.state.level,"20")),e.next=7,fetch("https://diskoteka.ro/apitickets/chess/bot.php",{method:"POST",body:t}).then((function(e){return e.text()})).then((function(e){console.log(e),s.setState({response:e}),console.log("This is the response: "+s.state.response)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n().then((function(){alert(JSON.stringify(s.state.response)),console.log("This is the response after asyncron: "+s.state.response),console.log(s.state.response.slice(-2)),console.log(s.state.response.split("-")),console.log(s.state.fen),console.log(s.chessgame.fen()),console.log(s.flipMove(s.state.response.split("-")[0])),s.chessgame.move({from:s.flipMove(s.state.response.split("-")[0]),to:s.flipMove(s.state.response.split("-")[1])}),console.log(s.chessgame.fen()),s.setState({fen:s.chessgame.fen()})})),!0}},{key:"_onFilesChanged",value:function(e){this.setState({files:Number(e.target.value)})}},{key:"_onRanksChanged",value:function(e){this.setState({ranks:Number(e.target.value)})}},{key:"_onGameTypeChange",value:function(e){this.setState(Object.assign(this.gamePresets[e.target.value],{gameType:e.target.value}))}},{key:"_onPgnChanged",value:function(e){this.setState({pgn:e.target.value}),this.game.load_pgn(e.target.value)}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"card col-6 mx-auto align-middle",children:[Object(h.jsx)("h1",{style:{marginLeft:"40px"},children:"Chess"}),Object(h.jsx)(D.a,{darkSquareColor:this.state.darkSquareColor,fen:this.state.fen,gameHistory:this.state.gameHistory,startPosition:this.state.currentPosition,files:this.state.files,flip:this.state.flip,lightSquareColor:this.state.lightSquareColor,onMovePiece:this._onMovePiece.bind(this),pgn:this.state.pgn,pieceDefinitions:this.gamePresets[this.state.gameType].pieceDefinitions,ranks:this.state.ranks,squareSize:this.state.squareSize,startMove:this.state.startMove}),Object(h.jsx)("p",{className:"lastMessage",children:Object(h.jsx)("strong",{children:this.state.lastMessage})})]})}}]),a}(s.Component),G=q,E=function(){var e={backgroundColor:null===localStorage.getItem("backgroundColor")?"#282c34":localStorage.getItem("backgroundColor"),color:"white"};return Object(s.useEffect)((function(){x()(".container-fluid").css("position","fixed"),x()(".container").css("background-color",localStorage.getItem("backgroundColor")?localStorage.getItem("backgroundColor"):"#282c34")})),Object(h.jsx)("div",{className:"container",style:e,children:Object(h.jsx)("h2",{children:"This is Dashboard Page"})})},F=(a(81),function(e){Object(r.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e){}},{key:"componentWillMount",value:function(){}},{key:"componentWillUpdate",value:function(){}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"render",value:function(){var e={color:null===localStorage.getItem("fontColor")?"#ffffff":localStorage.getItem("fontColor"),fontSize:"28px"};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("nav",{className:"navbar navbar-expand-sm bg-dark navbar-dark",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("a",{className:"navbar-brand",href:"/",children:"React Chess"}),Object(h.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(h.jsx)("span",{className:"navbar-toggler-icon",children:Object(h.jsx)("i",{className:"fa fa-navicon",style:e})})}),Object(h.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(h.jsxs)("ul",{className:"navbar-nav ml-auto",children:["false"===localStorage.getItem("authlogin")&&Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{className:"nav-link",href:"/",children:"Home"})}),"true"===localStorage.getItem("authlogin")&&Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{className:"nav-link",href:"/dashboard",children:"Home"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{className:"nav-link",href:"/about",children:"About"})})]}),Object(h.jsxs)("ul",{className:"navbar-nav ms-auto",children:[("false"===localStorage.getItem("authlogin")||null===localStorage.getItem("authlogin"))&&Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{className:"nav-link",href:"/register",children:"Register"})}),("false"===localStorage.getItem("authlogin")||null===localStorage.getItem("authlogin"))&&Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{className:"nav-link",href:"/login",children:"Login"})}),"true"===localStorage.getItem("authlogin")&&Object(h.jsxs)("li",{className:"nav-item dropdown",children:[Object(h.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:localStorage.getItem("user_id")}),Object(h.jsx)("ul",{class:"dropdown-menu bg-dark","aria-labelledby":"navbarDropdown",children:Object(h.jsx)("li",{children:Object(h.jsx)("a",{className:"nav-link bg-dark",href:"/logout",children:"Logout"})})})]})]})]})]})}),Object(h.jsx)("div",{className:"wrapper",children:Object(h.jsxs)("div",{className:"container d-flex h-100",children:[Object(h.jsx)(u.a,{children:Object(h.jsxs)(m.c,{children:[Object(h.jsx)(m.a,{exact:!0,path:"/",element:Object(h.jsx)(G,{})}),Object(h.jsx)(m.a,{exact:!0,path:"/about",element:Object(h.jsx)(w,{})}),Object(h.jsx)(m.a,{exact:!0,path:"/login",element:Object(h.jsx)(y,{})}),Object(h.jsx)(m.a,{exact:!0,path:"/register",element:Object(h.jsx)(P,{})}),Object(h.jsx)(m.a,{exact:!0,path:"/dashboard",element:Object(h.jsx)(E,{})}),Object(h.jsx)(m.a,{exact:!0,path:"/logout",element:Object(h.jsx)(t,{})}),Object(h.jsx)(m.a,{path:"*",element:Object(h.jsx)(b,{})})]})}),Object(h.jsx)("div",{className:"container-fluid",style:{height:"50px",position:"fixed",bottom:"0",margin:"0 auto"},children:Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col-3 mx-auto",style:{color:"white"},children:"\xa9 2021 - React Chess"})})})]})})]});function t(){return localStorage.setItem("authlogin","false"),window.location.href="/reactchess/",Object(h.jsx)("div",{})}}}]),a}(s.Component)),T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,110)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),s(e),c(e),n(e),i(e)}))};a(82),a(83);i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(F,{})}),document.getElementById("root")),T()},53:function(e,t,a){},81:function(e,t,a){}},[[106,1,2]]]);
//# sourceMappingURL=main.53daed41.chunk.js.map